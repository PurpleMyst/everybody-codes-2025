# /// script
# requires-python = ">=3.11"
# dependencies = [
#     "z3-solver",
# ]
# ///

from z3 import *

def main() -> None:
    opt = Optimize()
    p = {
        i: Int(f"p{i}")
                             for i in range(1, 82)
    }

    for v in p.values():
        opt.add(Or(v==0,v==1))

    def threshold(t, v):
        return If(v >= t, v, 0)

    p[82] = threshold(16, (-3) * p[1] + (-3) * p[2] + (7) * p[3] + (-1) * p[4] + (7) * p[5] + (-6) * p[6] + (7) * p[7] + (-1) * p[8] + (-8) * p[9]) # depends on [p[1], p[2], p[3], p[4], p[5], p[6], p[7], p[8], p[9]] (len = 9)
    p[83] = threshold(19, (-10) * p[10] + (-10) * p[11] + (9) * p[12] + (1) * p[13] + (8) * p[14] + (5) * p[15] + (8) * p[16] + (-6) * p[17] + (-9) * p[18]) # depends on [p[10], p[11], p[12], p[13], p[14], p[15], p[16], p[17], p[18]] (len = 9)
    p[84] = threshold(11, (-10) * p[19] + (5) * p[20] + (-10) * p[21] + (-7) * p[22] + (-1) * p[23] + (-7) * p[24] + (-8) * p[25] + (1) * p[26] + (-10) * p[27]) # depends on [p[19], p[20], p[21], p[22], p[23], p[24], p[25], p[26], p[27]] (len = 9)
    p[85] = threshold(24, (6) * p[28] + (-4) * p[29] + (-3) * p[30] + (6) * p[31] + (-6) * p[32] + (8) * p[33] + (-8) * p[34] + (-4) * p[35] + (3) * p[36]) # depends on [p[28], p[29], p[30], p[31], p[32], p[33], p[34], p[35], p[36]] (len = 9)
    p[86] = threshold(38, (3) * p[37] + (-1) * p[38] + (-9) * p[39] + (-5) * p[40] + (-9) * p[41] + (-4) * p[42] + (-3) * p[43] + (-8) * p[44] + (5) * p[45]) # depends on [p[37], p[38], p[39], p[40], p[41], p[42], p[43], p[44], p[45]] (len = 9)
    p[87] = threshold(37, (4) * p[46] + (-9) * p[47] + (-5) * p[48] + (8) * p[49] + (1) * p[50] + (2) * p[51] + (-10) * p[52] + (-7) * p[53] + (7) * p[54]) # depends on [p[46], p[47], p[48], p[49], p[50], p[51], p[52], p[53], p[54]] (len = 9)
    p[88] = threshold(38, (-8) * p[55] + (3) * p[56] + (-6) * p[57] + (-5) * p[58] + (4) * p[59] + (-2) * p[60] + (-3) * p[61] + (5) * p[62] + (-7) * p[63]) # depends on [p[55], p[56], p[57], p[58], p[59], p[60], p[61], p[62], p[63]] (len = 9)
    p[89] = threshold(19, (-8) * p[64] + (5) * p[65] + (-4) * p[66] + (-5) * p[67] + (-6) * p[68] + (-8) * p[69] + (-1) * p[70] + (1) * p[71] + (-5) * p[72]) # depends on [p[64], p[65], p[66], p[67], p[68], p[69], p[70], p[71], p[72]] (len = 9)
    p[90] = threshold(12, (-2) * p[73] + (-2) * p[74] + (4) * p[75] + (1) * p[76] + (6) * p[77] + (4) * p[78] + (9) * p[79] + (-2) * p[80] + (-10) * p[81]) # depends on [p[73], p[74], p[75], p[76], p[77], p[78], p[79], p[80], p[81]] (len = 9)
    p[91] = threshold(29, (-1) * p[1] + (-10) * p[10] + (-3) * p[19] + (6) * p[28] + (7) * p[37] + (9) * p[46] + (-4) * p[55] + (-8) * p[64] + (-6) * p[73]) # depends on [p[1], p[10], p[19], p[28], p[37], p[46], p[55], p[64], p[73]] (len = 9)
    p[92] = threshold(11, (-8) * p[2] + (-10) * p[11] + (7) * p[20] + (-4) * p[29] + (-4) * p[38] + (-1) * p[47] + (2) * p[56] + (4) * p[65] + (-5) * p[74]) # depends on [p[2], p[11], p[20], p[29], p[38], p[47], p[56], p[65], p[74]] (len = 9)
    p[93] = threshold(15, (4) * p[3] + (6) * p[12] + (-9) * p[21] + (-3) * p[30] + (-6) * p[39] + (-7) * p[48] + (-1) * p[57] + (-2) * p[66] + (6) * p[75]) # depends on [p[3], p[12], p[21], p[30], p[39], p[48], p[57], p[66], p[75]] (len = 9)
    p[94] = threshold(10, (-8) * p[4] + (2) * p[13] + (-10) * p[22] + (2) * p[31] + (-3) * p[40] + (9) * p[49] + (-3) * p[58] + (-4) * p[67] + (1) * p[76]) # depends on [p[4], p[13], p[22], p[31], p[40], p[49], p[58], p[67], p[76]] (len = 9)
    p[95] = threshold(38, (1) * p[5] + (7) * p[14] + (-7) * p[23] + (-1) * p[32] + (-10) * p[41] + (6) * p[50] + (8) * p[59] + (-2) * p[68] + (2) * p[77]) # depends on [p[5], p[14], p[23], p[32], p[41], p[50], p[59], p[68], p[77]] (len = 9)
    p[96] = threshold(34, (-2) * p[6] + (3) * p[15] + (-10) * p[24] + (1) * p[33] + (-8) * p[42] + (7) * p[51] + (-7) * p[60] + (-10) * p[69] + (9) * p[78]) # depends on [p[6], p[15], p[24], p[33], p[42], p[51], p[60], p[69], p[78]] (len = 9)
    p[97] = threshold(47, (4) * p[7] + (3) * p[16] + (-9) * p[25] + (-1) * p[34] + (-7) * p[43] + (-6) * p[52] + (-9) * p[61] + (-1) * p[70] + (3) * p[79]) # depends on [p[7], p[16], p[25], p[34], p[43], p[52], p[61], p[70], p[79]] (len = 9)
    p[98] = threshold(16, (-5) * p[8] + (-10) * p[17] + (9) * p[26] + (-3) * p[35] + (-3) * p[44] + (-10) * p[53] + (5) * p[62] + (2) * p[71] + (-9) * p[80]) # depends on [p[8], p[17], p[26], p[35], p[44], p[53], p[62], p[71], p[80]] (len = 9)
    p[99] = threshold(21, (-2) * p[9] + (-4) * p[18] + (-1) * p[27] + (9) * p[36] + (1) * p[45] + (2) * p[54] + (-8) * p[63] + (-6) * p[72] + (-8) * p[81]) # depends on [p[9], p[18], p[27], p[36], p[45], p[54], p[63], p[72], p[81]] (len = 9)
    p[100] = threshold(119, (10) * p[82] + (19) * p[91]) # depends on [] (len = 0)
    p[101] = threshold(120, (19) * p[83] + (10) * p[92]) # depends on [] (len = 0)
    p[102] = threshold(122, (11) * p[84] + (14) * p[93]) # depends on [] (len = 0)
    p[103] = threshold(111, (14) * p[85] + (10) * p[94]) # depends on [] (len = 0)
    p[104] = threshold(129, (17) * p[86] + (12) * p[95]) # depends on [] (len = 0)
    p[105] = threshold(120, (15) * p[87] + (12) * p[96]) # depends on [] (len = 0)
    p[106] = threshold(117, (17) * p[88] + (15) * p[97]) # depends on [] (len = 0)
    p[107] = threshold(126, (12) * p[89] + (15) * p[98]) # depends on [] (len = 0)
    p[108] = threshold(119, (12) * p[90] + (14) * p[99]) # depends on [] (len = 0)
    p[109] = threshold(3040, (3) * p[100] + (2) * p[101] + (6) * p[102] + (9) * p[103] + (2) * p[104] + (8) * p[105] + (5) * p[106] + (8) * p[107] + (3) * p[108]) # depends on [] (len = 0)

    opt.maximize(p[len(p)])

    print(opt)

    print(opt.check())
    m = opt.model()
    for i in range(1, 82):
        print(m[p[i]], end=" ")


if __name__ == "__main__":
    main()
